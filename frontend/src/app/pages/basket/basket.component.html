<div class="container">
  <div class="list">
    <div class="header">
      <mat-checkbox
        [checked]="checked()"
        (change)="update($event.checked)"
        [indeterminate]="indeterminate()">
        <span>Basket ({{ basketItems().length }})</span>
      </mat-checkbox>
      <span>Price</span>
    </div>
    @for (item of basketItems(); track item) {
      <basket-item
        [id]="item.product.id"
        [name]="item.product.name"
        [price]="item.product.price"
        [(checked)]="item.checked"
        [(amount)]="item.amount">
      </basket-item>
    }
    <span class="summary">Total: {{ total() }}</span>
  </div>
  <div class="checkout">
    <ul>
      @for (item of summaryItems(); track item) {
        <li>
          <span>{{ item.product.name }}</span>
          <span>{{ item.product.price }}</span>
          <span>x{{ item.amount() }}</span>
        </li>
      }
    </ul>
    <span class="total">Total: {{ total() }}</span>
    <button (click)="onCheckout()">Checkout</button>
  </div>
</div>
